[README.md](https://github.com/user-attachments/files/21759549/README.sa.md)
# 배열 기반 스택 (Stack-Array)

## 개념

### 1. 스택(stack)이란?

- 두 개의 포인터로 많은 양의 데이터를 효과적으로 관리하는 이론

- **후입선출(Last In First Out, LIFO) 구조**로 되어 있음

- **베이스 포인터(Base Pointer, BP)**를 기준으로 데이터가 추가될 때마다 순서대로 쌓아올리는 구조

- 새로운 데이터가 추가될 위치를 **스택 포인터(Stack Pointer, SP)**가 가리킴

### 2. 스택의 기본 구조

```c
typedef struct {
    int* data;     // 동적 할당된 배열
    int capacity;  // 최대 크기
    int top;       // 현재 top 인덱스 (마지막 요소 위치)
} Stack;
```

- **top = -1** → 빈 스택

- push 하면 `top++` 후 값 저장

- pop 하면 값 꺼내고 `top--`

### 3. 스택의 주요 연산

| 연산         | 설명                   |
| ---------- | -------------------- |
| `push`     | top+1 위치에 값 저장       |
| `pop`      | top 위치의 값 반환 후 top-1 |
| `peek`     | top 위치의 값 확인         |
| `is_empty` | top == -1 확인         |
| `is_full`  | top == capacity-1 확인 |

### 4. 스택의 특징

- **장점**: 단순하고 빠름, CPU 캐시 효율 좋음 (배열은 메모리 연속 배치)

- **단점**: 크기 고정(동적 확장하려면 재할당 필요), 중간 요소 접근 불가

## 구현된 기능

- 새로운 스택 생성 및 초기화: `sa_create()`
- 데이터 삽입: `sa_push()`
- 데이터 제거 및 반환: `sa_pop()`
- 최상단 확인(제거하지 않음): `sa_peek()`
- 비어 있는지 확인: `sa_is_empty()`
- 가득 찼는지 확인: `sa_is_full()`
- 현재 저장된 요소 개수 반환: `sa_size()`
- 스택 내용 출력 (bottom -> top 순서): `sa_print()`
- 스택 구조체 해제: `sa_free()`
- top 인덱스 유효성과 스택 상태 검증 (자동 실행): `sa_check_invariants()`
- 

## 테스트

### 1. 스택 생성 테스트

- 빈 스택 생성 확인
- 초기 상태에서 비어있음/가득참 확인
- 초기 크기 및 상태 출력

### 2. push 기본 테스트

- 10, 20, 30 순서로 push 연산
- 각 push 후 성공/실패 결과 확인
- push 후 스택 상태 출력

### 3. peek 테스트

- 최상단 요소 확인 (스택 변경 없음)
- peek 전후 스택 상태 비교
- out 파라미터를 통한 값 반환 확인

### 4. pop 기본 테스트

- 최상단 요소 제거 및 값 반환
- pop 전후 스택 상태 비교
- out 파라미터를 통한 값 반환 확인

### 5. 스택 상태 확인 테스트

- 현재 스택 크기 확인
- 비어있음/가득참 상태 확인
- 스택 내용 출력

### 6. 스택 가득 찰 때까지 push 테스트

- 현재 크기에서 최대 크기까지 데이터 채우기
- 추가된 요소 개수 확인
- 최종 크기 및 가득참 상태 확인

### 7. 오버플로우 테스트

- 가득 찬 스택에 추가 push 시도
- 오버플로우 상황에서 실패 처리 확인
- 스택 크기 변화 없음 확인

### 8. 모든 요소 pop 테스트

- 스택이 빌 때까지 모든 요소 제거
- pop된 요소 개수 확인
- 처음 5개와 20개마다 진행 상황 출력
- 최종 빈 스택 상태 확인

### 9. 언더플로우 테스트

- 빈 스택에서 pop 시도
- 빈 스택에서 peek 시도
- 언더플로우 상황에서 실패 처리 확인

### 10. LIFO 특성 테스트

- 100, 200, 300 순서로 push
- pop 순서가 300, 200, 100인지 확인
- Last In First Out 동작 검증

### 11. 불변식 검사 테스트

- 몇 개 요소 추가 후 불변식 검사
- 모든 push/pop 연산 후 `sa_check_invariants()` 자동 실행
- top 인덱스 유효성 검증
- 에러 메시지가 없으면 데이터 구조가 올바르게 유지됨을 확인

### 12. 메모리 해제 테스트

- `sa_free()` 함수로 스택 구조체 메모리 해제
- 해제 후 댕글링 포인터 방지 확인

### 13. NULL 포인터 안전성 테스트

- NULL 스택에 대한 모든 연산 테스트
- `sa_push(NULL, 10)`, `sa_pop(NULL, &value)`, `sa_peek(NULL, &value)` 안전 처리
- `sa_print(NULL)` 적절한 메시지 출력
